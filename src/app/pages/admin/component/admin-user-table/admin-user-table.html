<div class="table-responsive">
  @if (users().length > 0) {
    <table class="table table-bordered table-striped align-middle">
      <thead class="table-dark text-center">
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>Role</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody class="text-center">
        @for (user of users(); track trackByUserId($index, user)) {
          <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>
              <span
                class="badge"
                [ngClass]="{
                  'bg-success': user.role === 'admin',
                  'bg-primary': user.role === 'user',
                }"
              >
                {{ user.role }}
              </span>
            </td>
            <td>
              @if (user.role === "user") {
                <button
                  (click)="onPromote(user)"
                  class="btn btn-success btn-sm me-1"
                >
                  Promote
                </button>
              } @else {
                <button
                  (click)="onDemote(user)"
                  class="btn btn-warning btn-sm me-1"
                >
                  Demote
                </button>
              }
              <button (click)="onDelete(user)" class="btn btn-danger btn-sm">
                Delete
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @else {
    <div class="text-center py-4 text-muted">No users found</div>
  }
</div>
