<div
  class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2"
>
  <h4 class="text-white mb-0">📅 Today's Tasks</h4>
  <app-search-box [searchSignal]="search" placeholder="Search tasks..." />
</div>

@if (filteredTodos().length > 0) {
  <ul class="list-group list-group-flush text-light">
    @for (todo of filteredTodos(); track todo.id) {
      <li
        class="list-group-item bg-transparent border-light d-flex justify-content-between align-items-center"
      >
        <div class="form-check">
          <input
            class="form-check-input me-2"
            type="checkbox"
            [checked]="todo.completed"
            (change)="onToggleComplete(todo)"
            id="todo-{{ todo.id }}"
          />
          <label
            class="form-check-label text-white"
            [class.text-decoration-line-through]="todo.completed"
            for="todo-{{ todo.id }}"
          >
            <strong>{{ todo.name }}</strong>
            <br />
            <small class="text-secondary">{{ todo.description }}</small>
          </label>
        </div>
        <div class="d-flex align-items-center">
          <button
            class="btn btn-sm btn-outline-light me-2"
            [routerLink]="['/todos', todo.id, 'edit']"
          >
            ✏️ Edit
          </button>
          <button class="btn btn-sm btn-danger" (click)="onDelete(todo.id)">
            🗑️
          </button>
        </div>
      </li>
    }
  </ul>
} @else {
  <div class="text-secondary fst-italic mt-3">No todos yet. 🎉</div>
}
